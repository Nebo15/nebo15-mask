!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Nebo15Mask",[],t):"object"==typeof exports?exports.Nebo15Mask=t():e.Nebo15Mask=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MaskedInput=void 0;var o=n(1),i=r(o),s=n(3),a=r(s);t["default"]=i["default"];t.MaskedInput=a["default"]},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),s=function(){function e(t){r(this,e),this._name="nebo15-mask",this._mask=e.parseMask(t)}return o(e,[{key:"_getModelPosition",value:function(e){return this.mask.slice(0,e).reduce(function(e,t){return e+=!(t instanceof i.MaskPlaceStatic)},0)}},{key:"_getMaskPosition",value:function(e){return this.mask.reduce(function(t,n){return e===-1?t:n instanceof i.MaskPlaceStatic?t+1:(e--,t+1)},-1)}},{key:"_getCursorPosition",value:function(e){var t=!1;return this.mask.reduce(function(n,r,o){return t?n:r instanceof i.MaskPlaceStatic?n+1:e===-1?(t=!0,n):(e--,n+1)},0)}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,n=this._getModelPosition(t),r=this.model,o=this.__modelSize-r.length,i=e.slice(0,o)||"",s=r.slice(0,n)+i+r.slice(n);return this.model=s,this._getCursorPosition(n+(i.length-1))}},{key:"remove",value:function(e,t){var n=this.model;if(t<e)return e;var r=this._getModelPosition(e),o=this._getModelPosition(t);return this.model=n.slice(0,r)+n.slice(o),e}},{key:"backspace",value:function(e){if(0===e)return e;var t=this._getModelPosition(e);return this.remove(this._getCursorPosition(t-2),e)}},{key:"forwardDelete",value:function(e){if(e===this.mask.length)return e;var t=this._getModelPosition(e);return this.remove(e,this._getCursorPosition(t))}},{key:"viewValue",get:function(){throw new Error("get view value must me overrited")},set:function(e){throw new Error("get view value must me overrited")}},{key:"value",get:function(){return this.viewValue},set:function(t){this.model=e.parse(t,this.mask)}},{key:"model",get:function(){return e.parse(this.value,this.mask)},set:function(t){this.viewValue=e.format(t,this.mask)}},{key:"__modelSize",get:function(){return this.mask.reduce(function(e,t){return e+=!(t instanceof i.MaskPlaceStatic)},0)}},{key:"name",get:function(){return this._name}},{key:"mask",get:function(){return this._mask}}]),e}();s.maskedOptions={1:/\d/,w:/[a-zA-Z]/},s.parseMask=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).split("").map(function(e,t){return i.MaskPlace.create(s.maskedOptions[e]||e,t)})},s.format=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e=e||"","undefined"==typeof t[0]?"":t[0]instanceof i.MaskPlaceStatic?t[0].pattern+s.format(e,t.slice(1)):t[0].test(e[0])?(e[0]||"")+s.format(e.slice(1),t.slice(1)):""},s.parse=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e=e||"","undefined"==typeof t[0]?"":t[0]instanceof i.MaskPlaceStatic?t[0].test(e[0])?s.parse(e.slice(1),t.slice(1)):"":t[0].test(e[0])?e[0]+s.parse(e.slice(1),t.slice(1)):""}},function(e,t){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=t.MaskPlace=function(){function e(t,n){o(this,e),this.pattern=t,this.idx=n}return i(e,[{key:"test",value:function(){throw Error("method test must be overrided")}},{key:"placeholder",get:function(){return"_"}}]),e}(),a=t.MaskPlaceRegexp=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"test",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.pattern.test(e)}}]),t}(s),u=t.MaskPlaceStatic=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"test",value:function(e){return this.pattern===e}},{key:"placeholder",get:function(){return this.pattern}}]),t}(s),c=t.MaskPlaceFunction=function(e){function t(){return o(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"test",value:function(e){return this.pattern(e)}}]),t}(s);s.create=function(e,t){if("undefined"==typeof e||null===e)throw new Error("undefined test char");return e instanceof RegExp?new a(e,t):"function"==typeof e?new c(e,t):new u(e,t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),l={backspace:8,"delete":46},f=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r._element=e,r.onInputChange=r.onInputChange.bind(r),r.onKeydown=r.onKeydown.bind(r),r._element.addEventListener("change",r.onInputChange),r._element.addEventListener("keydown",r.onKeydown),r}return s(t,e),a(t,[{key:"onInputChange",value:function(e){var t=e.target.value;this.model=t}},{key:"onKeydown",value:function(e){var t=e.keyCode;if(!(e.ctrlKey||e.altKey||e.metaKey||t<46&&[l.backspace].indexOf(t)===-1)){e.preventDefault();var n=this.selection;t===l.backspace?this.cursor=n.start===n.end?this.backspace(n.start):this.remove(n.start,n.end):t===l["delete"]?this.cursor=n.start===n.end?this.forwardDelete(n.start):this.remove(n.start,n.end):(n.start!==n.end&&this.remove(n.start,n.end),this.cursor=this.add(String.fromCharCode(t),n.start))}}},{key:"viewValue",get:function(){return this._element.value},set:function(e){this._element.value=e}},{key:"cursor",get:function(){return this.selection.start},set:function(e){this.selection={start:e,end:e}}},{key:"selection",get:function(){var e,t,n,r;if(void 0!==this._element.selectionStart)e=this._element.selectionStart,t=this._element.selectionEnd;else try{this._element.focus(),n=this._element.createTextRange(),r=n.duplicate(),n.moveToBookmark(document.selection.createRange().getBookmark()),r.setEndPoint("EndToStart",n),e=r.text.length,t=e+n.text.length}catch(o){}return{start:e,end:t}},set:function(e){var t;try{void 0!==this._element.selectionStart?(this._element.focus(),this._element.setSelectionRange(e.start,e.end)):(this._element.focus(),t=this._element.createTextRange(),t.collapse(!0),t.moveStart("character",e.start),t.moveEnd("character",e.end-e.start),t.select())}catch(n){console.log("catched on set selection")}}}]),t}(c["default"]);t["default"]=f,e.exports=t["default"]}])});
//# sourceMappingURL=nebo15-mask.min.js.map
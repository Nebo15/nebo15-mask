{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 9a73c48e134635ad5b81","webpack:///./src/index.js"],"names":["MaskPlace","pattern","idx","Error","MaskPlaceRegexp","char","test","MaskPlaceStatic","MaskPlaceFunction","create","RegExp","KEYS","backspace","Mask","mask","_name","_mask","parseMask","maskPosition","slice","reduce","sum","cur","modelPosition","leftPlaces","finish","i","position","value","length","_getModelPosition","model","__modelSize","insertChunk","newModel","_getCursorPosition","start","end","startModel","endModel","prevCharacter","remove","viewValue","parse","modelValue","format","maskedOptions","String","split","map","maskArr","MaskedInput","element","_element","onInputChange","bind","onKeydown","addEventListener","e","target","keyCode","ctrlKey","altKey","metaKey","indexOf","preventDefault","selection","cursor","delete","forwardDelete","add","fromCharCode","rangeEl","clone","selectionStart","undefined","selectionEnd","focus","createTextRange","duplicate","moveToBookmark","document","createRange","getBookmark","setEndPoint","text","setSelectionRange","collapse","moveStart","moveEnd","select","console","log"],"mappings":"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","file":"nebo15-mask.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Nebo15Mask\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nebo15Mask\"] = factory();\n\telse\n\t\troot[\"Nebo15Mask\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9a73c48e134635ad5b81\n **/","export class MaskPlace {\n  constructor(pattern, idx) {\n    this.pattern = pattern;\n    this.idx = idx;\n  }\n  get placeholder() {\n    return '_';\n  }\n  test() {\n    throw Error('method test must be overrided');\n  }\n}\n\nclass MaskPlaceRegexp extends MaskPlace {\n  test(char = '') {\n    return this.pattern.test(char);\n  }\n}\nclass MaskPlaceStatic extends MaskPlace {\n  get placeholder() {\n    return this.pattern;\n  }\n  test(char) {\n    return this.pattern === char;\n  }\n}\nclass MaskPlaceFunction extends MaskPlace {\n  test(char) {\n    return this.pattern(char);\n  }\n}\n\nMaskPlace.create = function (test, idx) {\n  if (typeof test === 'undefined' || test === null) throw new Error('undefined test char');\n\n  if (test instanceof RegExp) return new MaskPlaceRegexp(test, idx);\n  else if (typeof test === 'function') return new MaskPlaceFunction(test, idx);\n  return new MaskPlaceStatic(test, idx);\n};\n\nconst KEYS = {\n  backspace: 8,\n  'tab':\t9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl':\t17,\n  'alt': 18,\n  'pauseBreak':\t19,\n  'capsLock':\t20,\n  'escape':\t27,\n  'pageUp':\t33,\n  'pageDown':\t34,\n  'end':\t35,\n  'home':\t36,\n  'leftArrow':\t37,\n  'upArrow':\t38,\n  'rightArrow':\t39,\n  'downArrow':\t40,\n  'insert':\t45,\n  'delete':\t46\n};\n\nclass Mask {\n  constructor(mask) {\n    this._name = 'nebo15-mask';\n    this._mask = Mask.parseMask(mask);\n  }\n\n  // public interfaces\n  get viewValue() {\n    throw new Error('get view value must me overrited');\n  }\n  set viewValue(value) {\n    throw new Error('get view value must me overrited');\n  }\n\n  get value() {\n    return this.viewValue;\n  }\n  set value(value) {\n    this.model = Mask.parse(value, this.mask);\n  }\n  get model() {\n    return Mask.parse(this.value, this.mask);\n  }\n  set model(modelValue) {\n    this.viewValue = Mask.format(modelValue, this.mask);\n  }\n\n  _getModelPosition(maskPosition) {\n    return this.mask.slice(0, maskPosition).reduce((sum, cur) => sum += !(cur instanceof MaskPlaceStatic), 0);\n  }\n  _getMaskPosition(modelPosition) {\n    return this.mask.reduce(\n      (sum, cur) => {\n        if (modelPosition === -1) return sum;\n        if (cur instanceof MaskPlaceStatic) return sum + 1;\n        modelPosition--;\n        return sum + 1;\n      }, -1\n    );\n  }\n  _getCursorPosition(leftPlaces) {\n    let finish = false;\n\n    return this.mask.reduce(\n      (sum, cur, i) => {\n        if (finish) return sum;\n        if (cur instanceof MaskPlaceStatic) {\n          return sum + 1;\n        }\n        if (leftPlaces === -1) {\n          finish = true;\n          return sum;\n        }\n        leftPlaces--;\n        return sum + 1;\n      }\n    , 0);\n  }\n\n  get __modelSize() {\n    return this.mask.reduce((sum, cur) => sum += !(cur instanceof MaskPlaceStatic), 0);\n  }\n  /**\n   * Adding string/char by cursort position.\n   * By default. insert at the end of the mask\n   * @param {string} char - insert string\n   * @param {number} position - cursor position\n   * @returns {number} cursor position\n   */\n  add(char = '', position = this.value.length) {\n    const modelPosition = this._getModelPosition(position);\n    const model = this.model;\n    const leftPlaces = this.__modelSize - model.length;\n    const insertChunk = char.slice(0, leftPlaces) || '';\n    const newModel = model.slice(0, modelPosition) + insertChunk + model.slice(modelPosition);\n\n    this.model = newModel;\n    return this._getCursorPosition(modelPosition + (insertChunk.length - 1));\n  }\n  /**\n   * Remove from mask by start and end selection positions\n   * @param {number} start selection`s start cursor position\n   * @param {number} end selection`s end cursor position\n   * @throws end must be >= start\n   * @returns {number} cursor position\n   */\n  remove(start, end) {\n    const model = this.model;\n\n    if (end < start) return start;\n\n    const startModel = this._getModelPosition(start);\n    const endModel = this._getModelPosition(end);\n\n    this.model = model.slice(0, startModel) + model.slice(endModel);\n    return start;\n  }\n  backspace(position) {\n    if (position === 0) return position;\n    const prevCharacter = this._getModelPosition(position);\n\n    return this.remove(this._getCursorPosition(prevCharacter - 2), position);\n  }\n  forwardDelete(position) {\n    if (position === this.mask.length) return position;\n    const prevCharacter = this._getModelPosition(position);\n\n    return this.remove(position, this._getCursorPosition(prevCharacter));\n  }\n\n  get name() {\n    return this._name;\n  }\n  get mask() {\n    return this._mask;\n  }\n}\nMask.maskedOptions = {\n  '1': /\\d/,\n  'w': /[a-zA-Z]/\n};\nMask.parseMask = function (mask = '') {\n  return String(mask).split('').map((i, idx) => MaskPlace.create(Mask.maskedOptions[i] || i, idx));\n};\nMask.format = function (value, maskArr = []) {\n  value = value || '';\n  return typeof maskArr[0] === 'undefined' ? '' :\n  maskArr[0] instanceof MaskPlaceStatic ? (maskArr[0].pattern + Mask.format(value, maskArr.slice(1))) :\n  maskArr[0].test(value[0]) ? ((value[0] || '') + Mask.format(value.slice(1), maskArr.slice(1))) : '';\n};\nMask.parse = function (value, maskArr = []) {\n  value = value || '';\n  return typeof maskArr[0] === 'undefined' ? '' :\n  maskArr[0] instanceof MaskPlaceStatic ?\n  maskArr[0].test(value[0]) ?\n  (Mask.parse(value.slice(1), maskArr.slice(1))) :\n  '' :\n  maskArr[0].test(value[0]) ? (value[0] + Mask.parse(value.slice(1), maskArr.slice(1))) : '';\n};\n\nexport default class MaskedInput extends Mask {\n\n  constructor(element, mask) {\n    super(mask);\n\n    this._element = element;\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onKeydown = this.onKeydown.bind(this);\n\n    this._element.addEventListener('change', this.onInputChange);\n    this._element.addEventListener('keydown', this.onKeydown);\n  }\n  get viewValue() {\n    return this._element.value;\n  }\n  set viewValue(value) {\n    this._element.value = value;\n  }\n\n  onInputChange(e) {\n    const { value } = e.target;\n\n    this.model = value;\n  }\n  onKeydown(e) {\n    const keyCode = e.keyCode;\n\n    if (e.ctrlKey || e.altKey || e.metaKey || (keyCode < 46 && [KEYS.backspace].indexOf(keyCode) === -1)) return;\n    e.preventDefault();\n    const selection = this.selection;\n\n    if (keyCode === KEYS.backspace) {\n      this.cursor = selection.start === selection.end ?\n        this.backspace(selection.start) :\n        this.remove(selection.start, selection.end);\n    } else if (keyCode === KEYS.delete) {\n      this.cursor = selection.start === selection.end ?\n        this.forwardDelete(selection.start) :\n        this.remove(selection.start, selection.end);\n    } else {\n      if (selection.start !== selection.end) this.remove(selection.start, selection.end);\n      this.cursor = this.add(String.fromCharCode(keyCode), selection.start);\n    }\n  }\n\n  get cursor() {\n    return this.selection.start;\n  }\n  set cursor(position) {\n    this.selection = { start: position, end: position };\n  }\n  get selection() {\n    var start, end, rangeEl, clone;\n\n    if (this._element.selectionStart !== undefined) {\n      start = this._element.selectionStart;\n      end = this._element.selectionEnd;\n    } else {\n      try {\n        this._element.focus();\n        rangeEl = this._element.createTextRange();\n        clone = rangeEl.duplicate();\n\n        rangeEl.moveToBookmark(document.selection.createRange().getBookmark());\n        clone.setEndPoint('EndToStart', rangeEl);\n\n        start = clone.text.length;\n        end = start + rangeEl.text.length;\n      } catch (e) { /* not focused or not visible */ }\n    }\n\n    return { start, end };\n  }\n  set selection(selection) {\n    var rangeEl;\n\n    try {\n      if (this._element.selectionStart !== undefined) {\n        this._element.focus();\n        this._element.setSelectionRange(selection.start, selection.end);\n      } else {\n        this._element.focus();\n        rangeEl = this._element.createTextRange();\n        rangeEl.collapse(true);\n        rangeEl.moveStart('character', selection.start);\n        rangeEl.moveEnd('character', selection.end - selection.start);\n        rangeEl.select();\n      }\n    } catch (e) {\n      console.log('catched on set selection');\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/"],"sourceRoot":""}
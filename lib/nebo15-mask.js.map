{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 73f36a36bf2e08de7d9e","webpack:///./src/index.js"],"names":["MaskPlace","pattern","idx","Error","MaskPlaceRegexp","char","test","MaskPlaceStatic","MaskPlaceFunction","create","RegExp","isBackspace","keycode","KEYS","backspace","Mask","element","mask","_name","_element","_mask","parseMask","onInputChange","bind","onKeydown","addEventListener","e","value","target","format","keyCode","ctrlKey","altKey","metaKey","indexOf","preventDefault","removeChar","addChar","String","fromCharCode","position","length","i","deleted","slice","maskedOptions","split","map","maskArr","parse"],"mappings":"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","file":"nebo15-mask.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Nebo15Mask\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nebo15Mask\"] = factory();\n\telse\n\t\troot[\"Nebo15Mask\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 73f36a36bf2e08de7d9e\n **/","export class MaskPlace {\n  constructor(pattern, idx) {\n    this.pattern = pattern;\n    this.idx = idx;\n  }\n  get placeholder() {\n    return '_';\n  }\n  test() {\n    throw Error('method test must be overrided');\n  }\n}\n\nclass MaskPlaceRegexp extends MaskPlace {\n  test(char) {\n    return this.pattern.test(char);\n  }\n}\nclass MaskPlaceStatic extends MaskPlace {\n  get placeholder() {\n    return this.pattern;\n  }\n  test(char) {\n    return this.pattern === char;\n  }\n}\nclass MaskPlaceFunction extends MaskPlace {\n  test(char) {\n    return this.pattern(char);\n  }\n}\n\nMaskPlace.create = function (test, idx) {\n  if (typeof test === 'undefined' || test === null) throw new Error('undefined test char');\n\n  if (test instanceof RegExp) return new MaskPlaceRegexp(test, idx);\n  else if (typeof test === 'function') return new MaskPlaceFunction(test, idx);\n  return new MaskPlaceStatic(test, idx);\n};\n\nconst isBackspace = keycode => keycode === 8;\nconst KEYS = {\n  backspace: 8,\n  'tab':\t9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl':\t17,\n  'alt': 18,\n  'pauseBreak':\t19,\n  'capsLock':\t20,\n  'escape':\t27,\n  'pageUp':\t33,\n  'pageDown':\t34,\n  'end':\t35,\n  'home':\t36,\n  'leftArrow':\t37,\n  'upArrow':\t38,\n  'rightArrow':\t39,\n  'downArrow':\t40,\n  'insert':\t45,\n  'delete':\t46\n};\n\nexport default class Mask {\n  constructor(element, mask) {\n    this._name = 'nebo15-mask';\n    this._element = element;\n    this._mask = Mask.parseMask(mask);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onKeydown = this.onKeydown.bind(this);\n\n    this._element.addEventListener('change', this.onInputChange);\n    this._element.addEventListener('keydown', this.onKeydown);\n  }\n  onInputChange(e) {\n    const { value } = e.target;\n\n    this.element.value = Mask.format(value, this.mask);\n  }\n  onKeydown(e) {\n    const keyCode = e.keyCode;\n\n    if (e.ctrlKey || e.altKey || e.metaKey || (keyCode < 46 && [KEYS.backspace].indexOf(keyCode) === -1)) return;\n    e.preventDefault();\n    if (keyCode === KEYS.backspace) this.removeChar();\n    else this.addChar(String.fromCharCode(keyCode));\n  }\n  removeChar() {\n    const position = String(this.element.value).length;\n    let i = position - 1;\n    let deleted = false;\n\n    while (!deleted && this.mask[i] || this.mask[i] instanceof MaskPlaceStatic || i >= this.mask.length) {\n      if (!(this.mask[i] instanceof MaskPlaceStatic)) deleted = true;\n      this.element.value = this.element.value.slice(0, i);\n      i--;\n    }\n  }\n  addChar(char) {\n    const position = String(this.element.value).length;\n    let i = position;\n\n    while (this.mask[i] && this.mask[i] instanceof MaskPlaceStatic) {\n      this.element.value += this.mask[i].pattern;\n      i++;\n    }\n    if (this.mask[i]) {\n      this.element.value += char;\n    }\n  }\n  get element() {\n    return this._element;\n  }\n  get name() {\n    return this._name;\n  }\n  get mask() {\n    return this._mask;\n  }\n}\nMask.maskedOptions = {\n  '1': /\\d/,\n  'w': /[a-zA-Z]/\n};\nMask.parseMask = function (mask = '') {\n  return String(mask).split('').map((i, idx) => MaskPlace.create(Mask.maskedOptions[i] || i, idx));\n};\nMask.format = function (value, maskArr = []) {\n  return typeof maskArr[0] === 'undefined' ? '' :\n    maskArr[0] instanceof MaskPlaceStatic ? (maskArr[0].pattern + Mask.format(value, maskArr.slice(1))) :\n    maskArr[0].test(value[0]) ? (value[0] + Mask.format(value.slice(1), maskArr.slice(1))) : '';\n};\nMask.parse = function (value, maskArr = []) {\n  return typeof maskArr[0] === 'undefined' ? '' :\n    maskArr[0] instanceof MaskPlaceStatic ?\n      maskArr[0].test(value[0]) ?\n        (Mask.parse(value.slice(1), maskArr.slice(1))) :\n        '' :\n    maskArr[0].test(value[0]) ? (value[0] + Mask.parse(value.slice(1), maskArr.slice(1))) : '';\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/"],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7af0f5c8b1a13bbe4cc6","webpack:///./src/index.js"],"names":["MaskPlace","pattern","idx","Error","MaskPlaceRegexp","char","test","MaskPlaceStatic","MaskPlaceFunction","create","RegExp","KEYS","backspace","Mask","element","mask","_name","_element","_mask","parseMask","onInputChange","bind","onKeydown","addEventListener","maskPosition","slice","reduce","sum","cur","leftPlaces","finish","i","position","value","length","modelPosition","_getModelPosition","model","__modelSize","insertChunk","newModel","_getCursorPosition","start","end","startModel","endModel","e","target","format","keyCode","ctrlKey","altKey","metaKey","indexOf","preventDefault","removeChar","addChar","String","fromCharCode","deleted","cursor","viewValue","parse","modelValue","selection","rangeEl","clone","selectionStart","undefined","selectionEnd","focus","createTextRange","duplicate","moveToBookmark","document","createRange","getBookmark","setEndPoint","text","setSelectionRange","collapse","moveStart","moveEnd","select","console","log","maskedOptions","split","map","maskArr"],"mappings":"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","file":"nebo15-mask.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Nebo15Mask\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nebo15Mask\"] = factory();\n\telse\n\t\troot[\"Nebo15Mask\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7af0f5c8b1a13bbe4cc6\n **/","export class MaskPlace {\n  constructor(pattern, idx) {\n    this.pattern = pattern;\n    this.idx = idx;\n  }\n  get placeholder() {\n    return '_';\n  }\n  test() {\n    throw Error('method test must be overrided');\n  }\n}\n\nclass MaskPlaceRegexp extends MaskPlace {\n  test(char) {\n    return this.pattern.test(char);\n  }\n}\nclass MaskPlaceStatic extends MaskPlace {\n  get placeholder() {\n    return this.pattern;\n  }\n  test(char) {\n    return this.pattern === char;\n  }\n}\nclass MaskPlaceFunction extends MaskPlace {\n  test(char) {\n    return this.pattern(char);\n  }\n}\n\nMaskPlace.create = function (test, idx) {\n  if (typeof test === 'undefined' || test === null) throw new Error('undefined test char');\n\n  if (test instanceof RegExp) return new MaskPlaceRegexp(test, idx);\n  else if (typeof test === 'function') return new MaskPlaceFunction(test, idx);\n  return new MaskPlaceStatic(test, idx);\n};\n\nconst KEYS = {\n  backspace: 8,\n  'tab':\t9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl':\t17,\n  'alt': 18,\n  'pauseBreak':\t19,\n  'capsLock':\t20,\n  'escape':\t27,\n  'pageUp':\t33,\n  'pageDown':\t34,\n  'end':\t35,\n  'home':\t36,\n  'leftArrow':\t37,\n  'upArrow':\t38,\n  'rightArrow':\t39,\n  'downArrow':\t40,\n  'insert':\t45,\n  'delete':\t46\n};\n\nexport default class Mask {\n  constructor(element, mask) {\n    this._name = 'nebo15-mask';\n    this._element = element;\n    this._mask = Mask.parseMask(mask);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onKeydown = this.onKeydown.bind(this);\n\n    this._element.addEventListener('change', this.onInputChange);\n    this._element.addEventListener('keydown', this.onKeydown);\n  }\n\n  // public interfaces\n  get viewValue() {\n    return this.element.value;\n  }\n  set viewValue(value) {\n    this.element.value = value;\n  }\n\n  get value() {\n    return this.viewValue;\n  }\n  set value(value) {\n    this.model = Mask.parse(value, this.mask);\n  }\n  get model() {\n    return Mask.parse(this.value, this.mask);\n  }\n  set model(modelValue) {\n    this.viewValue = Mask.format(modelValue, this.mask);\n  }\n\n  _getModelPosition(maskPosition) {\n    return this.mask.slice(0, maskPosition).reduce((sum, cur) => sum += !(cur instanceof MaskPlaceStatic), 0);\n  }\n  _getCursorPosition(leftPlaces) {\n    let finish = false;\n\n    return this.mask.reduce(\n      (sum, cur, i) => {\n        if (finish) return sum;\n        if (cur instanceof MaskPlaceStatic) {\n          return sum + 1;\n        }\n        if (leftPlaces === -1) {\n          finish = true;\n          return sum;\n        }\n        leftPlaces--;\n        return sum + 1;\n      }\n    , 0);\n  }\n\n  get __modelSize() {\n    return this.mask.reduce((sum, cur) => sum += !(cur instanceof MaskPlaceStatic), 0);\n  }\n  /**\n   * Adding string/char by cursort position.\n   * By default. insert at the end of the mask\n   * @param {string} char - insert string\n   * @param {number} position - cursor position\n   * @returns {number} cursor position\n   */\n  add(char, position = this.value.length) {\n    const modelPosition = this._getModelPosition(position);\n    const model = this.model;\n    const leftPlaces = this.__modelSize - model.length;\n    const insertChunk = char.slice(0, leftPlaces);\n    const newModel = model.slice(0, modelPosition) + insertChunk + model.slice(modelPosition);\n\n    this.model = newModel;\n    return this._getCursorPosition(modelPosition + (insertChunk.length ? (insertChunk.length - 1) : 0));\n  }\n  /**\n   * Remove from mask by start and end selection positions\n   * @param {number} start selection`s start cursor position\n   * @param {number} end selection`s end cursor position\n   * @throws end must be >= start\n   * @returns {number} cursor position\n   */\n  remove(start, end) {\n    const model = this.model;\n\n    start = typeof start === 'number' ? start : this.mask.length;\n    end = typeof end === 'number' ? end : (start + 1);\n\n    if (end < start) throw new Error('remove: end must be >= start');\n\n    const startModel = this._getModelPosition(start);\n    const endModel = this._getModelPosition(end);\n\n    this.model = model.slice(0, startModel) + model.slice(endModel);\n    return this._getCursorPosition(startModel - 1);\n  }\n\n\n\n\n\n\n\n\n\n\n  onInputChange(e) {\n    const { value } = e.target;\n\n    this.element.value = Mask.format(value, this.mask);\n  }\n  onKeydown(e) {\n    const keyCode = e.keyCode;\n\n    if (e.ctrlKey || e.altKey || e.metaKey || (keyCode < 46 && [KEYS.backspace].indexOf(keyCode) === -1)) return;\n    e.preventDefault();\n    if (keyCode === KEYS.backspace) this.removeChar();\n    else this.addChar(String.fromCharCode(keyCode), String(this.element.value).length);\n  }\n  removeChar() {\n    const position = String(this.element.value).length;\n    let i = position - 1;\n    let deleted = false;\n\n    while (!deleted && this.mask[i] || this.mask[i] instanceof MaskPlaceStatic || i >= this.mask.length) {\n      if (!(this.mask[i] instanceof MaskPlaceStatic)) deleted = true;\n      this.element.value = this.element.value.slice(0, i) + this.element.value.slice(i + 1);\n      i--;\n    }\n  }\n  addChar(char, position) {\n    let i = position;\n\n    while (this.mask[i] && this.mask[i] instanceof MaskPlaceStatic) {\n      this.element.value += this.mask[i].pattern;\n      i++;\n    }\n    if (this.mask[i] && this.mask[i].test(char)) {\n      this.element.value += char;\n    }\n    this.cursor = this.cursor + 1;\n  }\n\n  get cursor() {\n    return this.selection.start;\n  }\n  set cursor(position) {\n    this.selection = { start: position, end: position };\n  }\n  get selection() {\n    var start, end, rangeEl, clone;\n\n    if (this.element.selectionStart !== undefined) {\n      start = this.element.selectionStart;\n      end = this.element.selectionEnd;\n    } else {\n      try {\n        this.element.focus();\n        rangeEl = this.element.createTextRange();\n        clone = rangeEl.duplicate();\n\n        rangeEl.moveToBookmark(document.selection.createRange().getBookmark());\n        clone.setEndPoint('EndToStart', rangeEl);\n\n        start = clone.text.length;\n        end = start + rangeEl.text.length;\n      } catch (e) { /* not focused or not visible */ }\n    }\n\n    return { start, end };\n  }\n  set selection(selection) {\n    var rangeEl;\n\n    try {\n      if (this.element.selectionStart !== undefined) {\n        this.element.focus();\n        this.element.setSelectionRange(selection.start, selection.end);\n      } else {\n        this.element.focus();\n        rangeEl = this.element.createTextRange();\n        rangeEl.collapse(true);\n        rangeEl.moveStart('character', selection.start);\n        rangeEl.moveEnd('character', selection.end - selection.start);\n        rangeEl.select();\n      }\n    } catch (e) {\n      console.log('catched on set selection');\n    }\n  }\n  get element() {\n    return this._element;\n  }\n  get name() {\n    return this._name;\n  }\n  get mask() {\n    return this._mask;\n  }\n}\nMask.maskedOptions = {\n  '1': /\\d/,\n  'w': /[a-zA-Z]/\n};\nMask.parseMask = function (mask = '') {\n  return String(mask).split('').map((i, idx) => MaskPlace.create(Mask.maskedOptions[i] || i, idx));\n};\nMask.format = function (value, maskArr = []) {\n  return typeof maskArr[0] === 'undefined' ? '' :\n  maskArr[0] instanceof MaskPlaceStatic ? (maskArr[0].pattern + Mask.format(value, maskArr.slice(1))) :\n  maskArr[0].test(value[0]) ? (value[0] + Mask.format(value.slice(1), maskArr.slice(1))) : '';\n};\nMask.parse = function (value, maskArr = []) {\n  return typeof maskArr[0] === 'undefined' ? '' :\n  maskArr[0] instanceof MaskPlaceStatic ?\n  maskArr[0].test(value[0]) ?\n  (Mask.parse(value.slice(1), maskArr.slice(1))) :\n  '' :\n  maskArr[0].test(value[0]) ? (value[0] + Mask.parse(value.slice(1), maskArr.slice(1))) : '';\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/"],"sourceRoot":""}